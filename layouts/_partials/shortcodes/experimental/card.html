{{- $link := .link -}}

{{- $content := .content -}}

{{- if $link -}}
  {{- $external := strings.HasPrefix $link "http" -}}
  {{- $href := cond (strings.HasPrefix $link "/") ($link | relURL) $link -}}
  <a
    class="hextra-card hextra-card-link hx:group"
    href="{{ $href }}"
    {{ with $external }}target="_blank" rel="noreferrer"{{ end -}}
  >
{{- else -}}
  <div class="hextra-card hextra-card-neutral hx:group" >
{{- end -}}

{{- $content -}}

{{- if $link -}}</a>{{- else -}}</div>{{- end -}}
{{- /* Strip trailing newline. */ -}}
